@import "ui-variables";
@import "./helpers";

project-viewer {
	display: flex;
	flex-direction: column;
	flex: 1;
	width: 100%;

	width: @project-viewer-width;
	background-color: @tree-view-background-color;
	font-size: @font-size;
	font-family: @font-family;
	box-sizing: content-box;

	transition-property: width, opacity;
	transition-duration: @project-viewer-transition-duration;

	&.autohide:not(:focus):not(:hover) {
		width: @project-viewer-auto-width;
		opacity: 0;
	}

	&:focus,
	&:hover {
		width: @project-viewer-width;
		transition: width @project-viewer-transition-duration;

		pv-header {
			color: @project-viewer-active-state;
			transition: color @project-viewer-transition-duration;
		}
	}

	&::selection {
		background-color: transparent;
	}
}

pv-header {
	color: @project-viewer-topic-color;
	font-size: @project-viewer-topic-size;
	padding: @component-padding;

	width: 100%;

	animation-duration: @project-viewer-animation-duration;
	animation-name: fadeIn;
	transition: all @project-viewer-transition-duration;

	&::selection {
		background-color: transparent;
	}

	&.autohide {
		display: none;
	}
}

// ul.list-tree.has-collapsable-children {
// 	padding: 0 @component-padding;
// }

ul[is="pv-clients"],
ul[is="pv-groups"] {
	font-family: @font-family;

	&::selection {
		background-color: transparent;
	}
}

ul.has-collapsable-children,
ul[is="pv-clients"] {
	display: flex;
	flex-direction: column;
	flex: 1;
	width: 100%;
	overflow: auto;
}

// li[is="pv-client"] {
// 	> .list-item {
// 		padding: 0 @component-padding;
// 	}
// }

li[is="pv-client"],
li[is="pv-group"] {
	pointer-events: all;
	width: 100%;
	cursor: pointer;
	display: block;

	span::selection {
		background-color: transparent;
	}
}

li.list-item[is="pv-client"]::before,
li.list-item[is="pv-group"]::before {
	&.expanded, &.collapsed {
		transition: all @project-viewer-transition-duration;
	}
}

project-viewer li.list-item[is="pv-project"] {
	pointer-events: all;
	width: 100%;
	cursor: pointer;
	display: block;
	transition: color @project-viewer-transition-duration ease-in 0s;
	position: relative;
	// margin: 0;

	&::before {
		content: "";
		position: absolute;
		width: 2px;
		height: 100%;
		bottom: 0;
		left: 0;
		background-color: @project-viewer-active-state;
		visibility: hidden;
		transform: scaleY(0);
		transition: transform @project-viewer-transition-duration, visibility @project-viewer-transition-duration;
	}

	&:hover::before {
		visibility: visible;
		transform: scaleY(1);
	}

	&:hover {
		color: @project-viewer-selected-state;
		transition: color @project-viewer-transition-duration ease-out 0s;
	}

	&.selected {
		color: @project-viewer-selected-state;
	}
}

project-viewer li.list-item[is="pv-list-item"] {
	pointer-events: all;
	width: 100%;
	cursor: pointer;
	display: block;
	transition: color @project-viewer-transition-duration ease-in 0s;
	position: relative;

	&:hover {
		color: @project-viewer-selected-state;
		transition: color @project-viewer-transition-duration ease-out 0s;
	}

	&.active {
		color: @project-viewer-selected-state;
	}

	&.disabled {
		cursor: not-allowed;
		color: @text-color-subtle;
		text-decoration: line-through;
	}
}

li[is="pv-list-nested-item"] {
	cursor: pointer;
}

ul[is="pv-list-tree"].has-collapsable-children,
li[is="pv-list-nested-item"] {
	transition: all @project-viewer-transition-duration ease-out 0s;
	&.over {
		opacity: 0.5;
	}
}

li[is="pv-list-item"] {
	transition: all @project-viewer-transition-duration ease-out 0s;
	&.over {
		opacity: 0.5;
	}
}

pv-modal {
	.pv-btn-clients {
		transition: all 0.3s;

		&:hover {
			cursor: pointer;
			background-color: @background-color-info;
		}
	}
}
