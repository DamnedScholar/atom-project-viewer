@import "ui-variables";
@import "./helpers";

project-viewer {
	display: flex;
	flex-direction: column;
	flex: 1;
	width: 100%;

    width: @project-viewer-width;
    background-color: @tree-view-background-color;
    font-size: @font-size;
    font-family: @font-family;
    border: 1px solid @pane-item-border-color;
    box-sizing: content-box;

    transition-property: width, opacity;
    transition-duration: @project-viewer-transition-duration;

    &.autohide:not(:focus):not(:hover) {
        width: @project-viewer-auto-width;
        opacity: 0;
    }

    &:focus,
    &:hover {
        width: @project-viewer-width;
        transition: width @project-viewer-transition-duration;

        pv-topic {
            color: @project-viewer-active-state;
            transition: color @project-viewer-transition-duration;
        }
    }
}

pv-topic {
    color: @project-viewer-topic-color;
    font-size: @project-viewer-topic-size;
    padding: @component-padding;

    width: 100%;

    animation-duration: @project-viewer-animation-duration;
    animation-name: fadeIn;
    transition: all @project-viewer-transition-duration;
}

ul[is="pv-clients"],
ul[is="pv-groups"] {
    font-family: @font-family;
}

ul[is="pv-clients"] {
    padding-left: @component-padding;

	display: flex;
	flex-direction: column;
	flex: 1;
	width: 100%;
	overflow: auto;
}

li[is="pv-client"],
li[is="pv-group"] {
    pointer-events: all;
    width: 100%;
    cursor: pointer;
    display: block;
}

li.list-item[is="pv-client"]::before,
li.list-item[is="pv-group"]::before {
    &.expanded, &.collapsed {
        transition: all @project-viewer-transition-duration;
    }
}

project-viewer li.list-item[is="pv-project"] {
    pointer-events: all;
    width: 100%;
    cursor: pointer;
    display: block;
    transition: color @project-viewer-transition-duration ease-in 0s;
    position: relative;

    &::before {
        content: "";
        position: absolute;
        width: 2px;
        height: 100%;
        bottom: 0;
        left: 0;
        background-color: @project-viewer-active-state;
        visibility: hidden;
        transform: scaleY(0);
        transition: transform @project-viewer-transition-duration, visibility @project-viewer-transition-duration;
    }

    &:hover::before {
        visibility: visible;
        transform: scaleY(1);
    }

    &:hover {
        color: @project-viewer-selected-state;
        transition: color @project-viewer-transition-duration ease-out 0s;
    }

    &.selected {
        color: @project-viewer-selected-state;
    }
}

pv-handler {
    background-color: transparent;
    width: 2px;
    height: 100%;
    position: absolute;
    left: 0;
    top: 0;
    cursor: col-resize;
    pointer-events: all;
}

span[is="pv-loader"] {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
    pointer-events: none;
    opacity: 0;
    transition: opacity @project-viewer-animation-duration;

    &.enabled {
        opacity: 1;
        pointer-events: all;
        transition: opacity @project-viewer-animation-duration;
    }
}

div[is="status-bar-project-viewer"] {
    opacity: 0;
    transition: opacity @project-viewer-animation-duration;

    &.enabled {
        opacity: 1;
    }
}

pv-status-info {
    font-size: 11px;
    cursor: default;
    display: inline-flex;
    justify-content: flex-end;
    min-width: -webkit-min-content;
    overflow: hidden;
    line-height: @component-line-height - 3px;
    height: @component-line-height + 1px;
    position: relative;
    white-space: nowrap;
    width: 100%;
    border-top-width: 1px;
    border-top-color: @base-border-color;
    border-top-style: solid;
    box-sizing: border-box;

    span {
        display: inline-block;
        vertical-align: middle;
        max-width: 20vw;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        margin-right: 0;

        &.icon-alert::before {
            font-size: 14px;
        }
    }
}
